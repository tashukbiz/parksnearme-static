(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[244,415,661,755,974],{263:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,4442,23)),Promise.resolve().then(t.bind(t,6219))},6219:(e,r,t)=>{"use strict";t.d(r,{BrowseParksClient:()=>g});var l=t(6614),a=t(7676),s=t(4726);let o=["bbq","playground","shade","parking","dog_off_leash","picnic_tables","free_entry"];var n=t(9538);let i=["nsw","vic","qld","wa","sa","tas","act","nt"];function c(e){let{state:r,setState:t,query:a,setQuery:s,features:c,toggleFeature:d}=e;return(0,l.jsxs)("div",{className:"p-6 space-y-4 rounded-lg",style:{backgroundColor:"var(--color-neutral-50)"},children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[(0,l.jsx)("label",{className:"font-medium min-w-fit",style:{fontFamily:"var(--font-heading)",color:"var(--color-text-primary)"},children:"State:"}),(0,l.jsxs)("select",{value:r,onChange:e=>{t(e.target.value),(0,n.qh)("state",e.target.value)},className:"border px-4 py-2 rounded-lg flex-1",style:{borderColor:"var(--color-neutral-300)",borderRadius:"var(--radius-lg)",fontFamily:"var(--font-body)"},children:[(0,l.jsx)("option",{value:"",children:"All"}),i.map(e=>(0,l.jsx)("option",{value:e,children:e.toUpperCase()},e))]})]}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[(0,l.jsx)("label",{className:"font-medium min-w-fit",style:{fontFamily:"var(--font-heading)",color:"var(--color-text-primary)"},children:"Search:"}),(0,l.jsx)("input",{type:"text",value:a,onChange:e=>{s(e.target.value),(0,n.qh)("search",e.target.value)},className:"border px-4 py-2 rounded-lg flex-1",placeholder:"e.g. NSW, Sydney or Hyde Park",style:{borderColor:"var(--color-neutral-300)",borderRadius:"var(--radius-lg)",fontFamily:"var(--font-body)"}})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"font-medium block mb-3",style:{fontFamily:"var(--font-heading)",color:"var(--color-text-primary)"},children:"Features:"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:o.map(e=>{let r=c.has(e);return(0,l.jsx)("button",{type:"button",onClick:()=>{d(e),(0,n.qh)("feature",e)},"aria-pressed":r,className:"px-4 py-2 border rounded-full text-sm font-medium transition-all",style:{backgroundColor:r?"var(--color-primary)":"white",color:r?"white":"var(--color-text-primary)",borderColor:r?"var(--color-primary)":"var(--color-neutral-300)",borderRadius:"var(--radius-full)"},children:e.replace(/_/g," ")},e)})})]})]})}var d=t(3355),u=t.n(d);function f(e){let{park:r}=e,t=Object.entries(r.features||{}).filter(e=>{let[,r]=e;return r}).map(e=>{let[r]=e;return r});return(0,l.jsx)(u(),{href:"/park/".concat(r.slug),onClick:()=>(0,n.wT)(r.slug),className:"flex h-full flex-col overflow-hidden rounded-lg border transition-all hover:shadow-lg",style:{borderColor:"var(--color-neutral-200)",borderRadius:"var(--radius-lg)"},children:(0,l.jsxs)("div",{className:"flex flex-1 flex-col p-4",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-1",style:{fontFamily:"var(--font-heading)",color:"var(--color-text-primary)"},children:r.title}),r.suburb&&(0,l.jsx)("p",{className:"text-sm mb-2",style:{color:"var(--color-text-secondary)"},children:r.suburb}),r.short_description&&(0,l.jsx)("p",{className:"mt-1 text-sm line-clamp-3",style:{color:"var(--color-text-secondary)"},children:r.short_description}),(0,l.jsx)("div",{className:"mt-auto flex flex-wrap gap-2 pt-3",children:t.map(e=>(0,l.jsx)("span",{className:"text-xs px-2 py-1 rounded-full",style:{backgroundColor:"var(--color-neutral-100)",color:"var(--color-text-secondary)",fontSize:"var(--font-size-xs)"},children:e.replace(/_/g," ")},e))})]})})}var m=t(2573),h=t(9637);function p(e){let{parks:r}=e;return(0,l.jsx)(m.Ay,{children:e=>{let{height:t,width:a}=e,s=a>=1024?3:a>=768?2:1,o=Math.ceil(r.length/s);return(0,l.jsx)(h.yi,{height:t,width:a,columnCount:s,columnWidth:a/s,rowCount:o,rowHeight:250,overscanRowCount:2,overscanColumnCount:1,children:e=>{let{columnIndex:t,rowIndex:a,style:o}=e,n=r[a*s+t];return n?(0,l.jsx)("div",{style:o,className:"p-2",children:(0,l.jsx)(f,{park:n})}):null}})}})}let x=(0,t(5365).default)(()=>Promise.all([t.e(133),t.e(444),t.e(550),t.e(514),t.e(910)]).then(t.bind(t,8910)),{loadableGenerated:{webpack:()=>[8910]},ssr:!1,loading:()=>(0,l.jsx)("div",{className:"w-full h-96 bg-gray-200 flex items-center justify-center",children:"Loading map..."})});function g(e){let r,{parks:t,defaultState:o="",defaultQuery:n="",defaultFeatures:i=[]}=e,d=(0,a.useRouter)(),u=(0,a.useSearchParams)(),[m,h]=(0,s.useState)(()=>(()=>{let e=u.get("state");return o||e||""})()),[g,v]=(0,s.useState)(()=>(()=>{let e=u.get("query");return n||e||""})()),[y,w]=(0,s.useState)(()=>(()=>{let e=u.get("features");if(e)return e?new Set(e.split(",").filter(Boolean)):new Set;return i.length>0?new Set(i):new Set})()),[b,j]=(0,s.useState)(null),[N,C]=(0,s.useState)(!1);(0,s.useEffect)(()=>{C(!0)},[]),(0,s.useEffect)(()=>{let e=new URLSearchParams;m&&e.set("state",m),g&&e.set("query",g),y.size>0&&e.set("features",Array.from(y).join(","));let r=e.toString(),t=r?"?".concat(r):window.location.pathname;window.location.search!==(r?"?".concat(r):"")&&d.replace(t,{scroll:!1})},[m,g,y,d]);let k=t.filter(e=>{if(m&&e.state.toLowerCase()!==m.toLowerCase())return!1;if(g){let r=g.toLowerCase();if(![e.state,e.city,e.suburb,e.title].some(e=>null==e?void 0:e.toLowerCase().includes(r)))return!1}for(let t of y){var r;if(!(null==(r=e.features)?void 0:r[t]))return!1}return!0}),_=k.filter(e=>!b||b.contains([e.lat,e.lng])),S=_.length?"".concat(_.length," park").concat(1===_.length?"":"s"," found"):"no parks match the filter";return(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)(c,{state:m,setState:h,query:g,setQuery:v,features:y,toggleFeature:e=>{w(r=>{let t=new Set(r);return t.has(e)?t.delete(e):t.add(e),t})}}),(0,l.jsx)("p",{className:"px-4 py-2 font-medium",style:{color:"var(--color-text-secondary)"},children:S}),(0,l.jsx)(x,{parks:k,onBoundsChange:j}),!N&&(r=_.slice(0,20),(0,l.jsx)("div",{className:"mt-4 grid auto-rows-fr gap-4 p-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(e=>(0,l.jsx)(f,{park:e},e.slug))})),N&&(0,l.jsx)("div",{className:"mt-4 h-[80vh] w-full p-2",children:(0,l.jsx)(p,{parks:_})})]})}},9538:(e,r,t)=>{"use strict";t.d(r,{JR:()=>a,Kl:()=>n,Zu:()=>l,qh:()=>o,wT:()=>i});let l="G-FPRZ4Z8498",a=e=>{l&&(window.gtag("config",l,{page_path:e,send_page_view:!1,update:!0}),window.gtag("event","page_view"))},s=(e,r)=>{l&&window.gtag("event",e,r)},o=(e,r)=>{s("filter_usage",{filter_type:e,value:r})},n=e=>{s("map_interaction",{interaction:e})},i=e=>{s("select_park",{slug:e})}}},e=>{e.O(0,[355,22,252,42,366,358],()=>e(e.s=263)),_N_E=e.O()}]);