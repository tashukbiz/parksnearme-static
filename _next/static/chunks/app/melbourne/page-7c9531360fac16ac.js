(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[244,415,661,974],{263:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,4442,23)),Promise.resolve().then(s.bind(s,6219))},6219:(e,t,s)=>{"use strict";s.d(t,{BrowseParksClient:()=>m});var a=s(6614),l=s(7676),r=s(4726);let n=["bbq","playground","shade","parking","dog_off_leash","picnic_tables","free_entry"];var i=s(9538);let c=["nsw","vic","qld","wa","sa","tas","act","nt"];function o(e){let{state:t,setState:s,query:l,setQuery:r,features:o,toggleFeature:u}=e;return(0,a.jsxs)("div",{className:"p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("label",{className:"mr-2",children:"State:"}),(0,a.jsxs)("select",{value:t,onChange:e=>{s(e.target.value),(0,i.qh)("state",e.target.value)},className:"border p-1",children:[(0,a.jsx)("option",{value:"",children:"All"}),c.map(e=>(0,a.jsx)("option",{value:e,children:e.toUpperCase()},e))]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("label",{className:"mr-2",children:"Search:"}),(0,a.jsx)("input",{type:"text",value:l,onChange:e=>{r(e.target.value),(0,i.qh)("search",e.target.value)},className:"border p-1 flex-1",placeholder:"e.g. NSW, Sydney or Hyde Park"})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:n.map(e=>{let t=o.has(e);return(0,a.jsx)("button",{type:"button",onClick:()=>{u(e),(0,i.qh)("feature",e)},"aria-pressed":t,className:"px-2 py-1 border rounded text-sm ".concat(t?"bg-blue-500 text-white":"bg-white"),children:e.replace(/_/g," ")},e)})})]})}var u=s(3355),d=s.n(u);function h(e){let{park:t}=e,s=Object.entries(t.features||{}).filter(e=>{let[,t]=e;return t}).map(e=>{let[t]=e;return t});return(0,a.jsx)(d(),{href:"/park/".concat(t.slug),onClick:()=>(0,i.wT)(t.slug),className:"flex h-full flex-col overflow-hidden rounded border hover:shadow",children:(0,a.jsxs)("div",{className:"flex flex-1 flex-col p-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:t.title}),t.suburb&&(0,a.jsx)("p",{className:"text-sm text-gray-600",children:t.suburb}),t.short_description&&(0,a.jsx)("p",{className:"mt-1 text-sm line-clamp-3",children:t.short_description}),(0,a.jsx)("div",{className:"mt-auto flex flex-wrap gap-2 pt-2",children:s.map(e=>(0,a.jsx)("span",{className:"text-xs bg-green-200 px-2 py-1 rounded",children:e.replace(/_/g," ")},e))})]})})}var p=s(2573),f=s(9637);function x(e){let{parks:t}=e;return(0,a.jsx)(p.Ay,{children:e=>{let{height:s,width:l}=e,r=l>=1024?3:l>=768?2:1,n=Math.ceil(t.length/r);return(0,a.jsx)(f.yi,{height:s,width:l,columnCount:r,columnWidth:l/r,rowCount:n,rowHeight:250,overscanRowCount:2,overscanColumnCount:1,children:e=>{let{columnIndex:s,rowIndex:l,style:n}=e,i=t[l*r+s];return i?(0,a.jsx)("div",{style:n,className:"p-2",children:(0,a.jsx)(h,{park:i})}):null}})}})}let g=(0,s(5365).default)(()=>Promise.all([s.e(133),s.e(444),s.e(550),s.e(514),s.e(910)]).then(s.bind(s,8910)),{loadableGenerated:{webpack:()=>[8910]},ssr:!1,loading:()=>(0,a.jsx)("div",{className:"w-full h-96 bg-gray-200 flex items-center justify-center",children:"Loading map..."})});function m(e){let t,{parks:s,defaultState:n="",defaultQuery:i=""}=e,c=(0,l.useRouter)(),u=(0,l.useSearchParams)(),[d,p]=(0,r.useState)(()=>(()=>{let e=u.get("state");return n||e||""})()),[f,m]=(0,r.useState)(()=>(()=>{let e=u.get("query");return i||e||""})()),[w,v]=(0,r.useState)(()=>(()=>{let e=u.get("features");return e&&e?new Set(e.split(",").filter(Boolean)):new Set})()),[j,b]=(0,r.useState)(null),[N,y]=(0,r.useState)(!1);(0,r.useEffect)(()=>{y(!0)},[]),(0,r.useEffect)(()=>{let e=new URLSearchParams;d&&e.set("state",d),f&&e.set("query",f),w.size>0&&e.set("features",Array.from(w).join(","));let t=e.toString(),s=t?"?".concat(t):window.location.pathname;window.location.search!==(t?"?".concat(t):"")&&c.replace(s,{scroll:!1})},[d,f,w,c]);let _=s.filter(e=>{if(d&&e.state.toLowerCase()!==d.toLowerCase())return!1;if(f){let t=f.toLowerCase();if(![e.state,e.city,e.suburb,e.title].some(e=>null==e?void 0:e.toLowerCase().includes(t)))return!1}for(let s of w){var t;if(!(null==(t=e.features)?void 0:t[s]))return!1}return!0}),k=_.filter(e=>!j||j.contains([e.lat,e.lng])),C=k.length?"".concat(k.length," park").concat(1===k.length?"":"s"," found"):"no parks match the filter";return(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(o,{state:d,setState:p,query:f,setQuery:m,features:w,toggleFeature:e=>{v(t=>{let s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s})}}),(0,a.jsx)("p",{className:"px-4 py-2",children:C}),(0,a.jsx)(g,{parks:_,onBoundsChange:b}),!N&&(t=k.slice(0,20),(0,a.jsx)("div",{className:"mt-4 grid auto-rows-fr gap-4 p-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(e=>(0,a.jsx)(h,{park:e},e.slug))})),N&&(0,a.jsx)("div",{className:"mt-4 h-[80vh] w-full p-2",children:(0,a.jsx)(x,{parks:k})})]})}},9538:(e,t,s)=>{"use strict";s.d(t,{JR:()=>l,Kl:()=>i,Zu:()=>a,qh:()=>n,wT:()=>c});let a="G-FPRZ4Z8498",l=e=>{a&&(window.gtag("config",a,{page_path:e,send_page_view:!1,update:!0}),window.gtag("event","page_view"))},r=(e,t)=>{a&&window.gtag("event",e,t)},n=(e,t)=>{r("filter_usage",{filter_type:e,value:t})},i=e=>{r("map_interaction",{interaction:e})},c=e=>{r("select_park",{slug:e})}}},e=>{e.O(0,[355,22,252,42,366,358],()=>e(e.s=263)),_N_E=e.O()}]);