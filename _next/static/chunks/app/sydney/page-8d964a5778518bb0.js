(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[415,661,974],{240:(e,t,a)=>{"use strict";a.d(t,{default:()=>x});var l=a(6614),s=a(5365),r=a(4726);let n=["NSW","VIC","QLD","SA","WA","TAS","NT","ACT"],i=["bbq","playground","shade","parking","dog_off_leash","picnic_tables","free_entry"];var c=a(9538);function d(e){let{state:t,setState:a,city:s,setCity:r,features:d,toggleFeature:o}=e;return(0,l.jsxs)("div",{className:"p-4 space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"mr-2",children:"State:"}),(0,l.jsxs)("select",{value:t,onChange:e=>{a(e.target.value),(0,c.qh)("state",e.target.value)},className:"border p-1",children:[(0,l.jsx)("option",{value:"",children:"All"}),n.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"mr-2",children:"City/Suburb:"}),(0,l.jsx)("input",{type:"text",value:s,onChange:e=>{r(e.target.value),(0,c.qh)("city",e.target.value)},className:"border p-1",placeholder:"e.g. Sydney"})]}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:i.map(e=>{let t=d.has(e);return(0,l.jsx)("button",{type:"button",onClick:()=>{o(e),(0,c.qh)("feature",e)},"aria-pressed":t,className:"px-2 py-1 border rounded text-sm ".concat(t?"bg-blue-500 text-white":"bg-white"),children:e.replace(/_/g," ")},e)})})]})}var o=a(839),u=a(3355),h=a.n(u);function p(e){let{park:t}=e,a=Object.entries(t.features||{}).filter(e=>{let[,t]=e;return t}).map(e=>{let[t]=e;return t});return(0,l.jsxs)(h(),{href:"/park/".concat(t.slug),onClick:()=>(0,c.wT)(t.slug),className:"block border rounded overflow-hidden mb-4 hover:shadow",children:[(0,l.jsx)("div",{className:"relative w-full h-40",children:(0,l.jsx)(o.default,{src:t.image||"/park-placeholder.jpg",alt:t.image?"".concat(t.title," in ").concat(t.suburb):"Placeholder image for ".concat(t.title),fill:!0,className:"object-cover",loading:"lazy"})}),(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold",children:t.title}),t.suburb&&(0,l.jsx)("p",{className:"text-sm text-gray-600",children:t.suburb}),t.short_description&&(0,l.jsx)("p",{className:"mt-1 text-sm",children:t.short_description}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:a.map(e=>(0,l.jsx)("span",{className:"text-xs bg-green-200 px-2 py-1 rounded",children:e.replace(/_/g," ")},e))})]})]})}let g=(0,s.default)(()=>Promise.all([a.e(133),a.e(550),a.e(964)]).then(a.bind(a,964)),{loadableGenerated:{webpack:()=>[964]},ssr:!1,loading:()=>(0,l.jsx)("div",{className:"w-full h-96 bg-gray-200 flex items-center justify-center",children:"Loading map..."})});function x(e){let{parks:t,defaultState:a="",defaultCity:s=""}=e,[n,i]=(0,r.useState)(a),[c,o]=(0,r.useState)(s),[u,h]=(0,r.useState)(new Set),[x,m]=(0,r.useState)(null),f=t.filter(e=>{var t,a,l;if(n&&e.state!==n||c&&!((null==(t=e.city)?void 0:t.toLowerCase().includes(c.toLowerCase()))||(null==(a=e.suburb)?void 0:a.toLowerCase().includes(c.toLowerCase()))))return!1;for(let t of u)if(!(null==(l=e.features)?void 0:l[t]))return!1;return!0}),b=f.filter(e=>!x||x.contains([e.lat,e.lng])),j=b.length?"".concat(b.length," park").concat(1===b.length?"":"s"," found"):"no parks match the filter";return(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)(d,{state:n,setState:i,city:c,setCity:o,features:u,toggleFeature:e=>{h(t=>{let a=new Set(t);return a.has(e)?a.delete(e):a.add(e),a})}}),(0,l.jsx)("p",{className:"px-4 py-2",children:j}),(0,l.jsx)(g,{parks:f,onBoundsChange:m}),(0,l.jsx)("div",{className:"mt-4 p-4 grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:b.map(e=>(0,l.jsx)(p,{park:e},e.slug))})]})}},4910:(e,t,a)=>{Promise.resolve().then(a.bind(a,240))},9538:(e,t,a)=>{"use strict";a.d(t,{JR:()=>s,Kl:()=>i,qh:()=>n,wT:()=>c});let l="G-FPRZ4Z8498",s=e=>{l&&window.gtag("config",l,{page_path:e})},r=(e,t)=>{l&&window.gtag("event",e,t)},n=(e,t)=>{r("filter_usage",{filter_type:e,value:t})},i=e=>{r("map_interaction",{interaction:e})},c=e=>{r("select_park",{slug:e})}}},e=>{e.O(0,[323,355,42,366,358],()=>e(e.s=4910)),_N_E=e.O()}]);