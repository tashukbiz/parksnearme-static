(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[415,661,974],{2242:(e,t,l)=>{"use strict";l.d(t,{A:()=>i});var a=l(6614),s=l(9538),r=l(839),n=l(3355),c=l.n(n);function i(e){let{park:t}=e,l=Object.entries(t.features||{}).filter(e=>{let[,t]=e;return t}).map(e=>{let[t]=e;return t});return(0,a.jsxs)(c(),{href:"/park/".concat(t.slug),onClick:()=>(0,s.wT)(t.slug),className:"flex h-full flex-col overflow-hidden rounded border hover:shadow",children:[(0,a.jsx)("div",{className:"relative w-full h-40",children:(0,a.jsx)(r.default,{src:t.image||"/park-placeholder.jpg",alt:t.image?"".concat(t.title," in ").concat(t.suburb):"Placeholder image for ".concat(t.title),fill:!0,className:"object-cover",loading:"lazy"})}),(0,a.jsxs)("div",{className:"flex flex-1 flex-col p-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:t.title}),t.suburb&&(0,a.jsx)("p",{className:"text-sm text-gray-600",children:t.suburb}),t.short_description&&(0,a.jsx)("p",{className:"mt-1 text-sm line-clamp-3",children:t.short_description}),(0,a.jsx)("div",{className:"mt-auto flex flex-wrap gap-2 pt-2",children:l.map(e=>(0,a.jsx)("span",{className:"text-xs bg-green-200 px-2 py-1 rounded",children:e.replace(/_/g," ")},e))})]})]})}},4910:(e,t,l)=>{Promise.resolve().then(l.bind(l,7319))},7319:(e,t,l)=>{"use strict";l.d(t,{default:()=>p});var a=l(6614),s=l(5365),r=l(4726);let n=["NSW","VIC","QLD","SA","WA","TAS","NT","ACT"],c=["bbq","playground","shade","parking","dog_off_leash","picnic_tables","free_entry"];var i=l(9538);function d(e){let{state:t,setState:l,query:s,setQuery:r,features:d,toggleFeature:o}=e;return(0,a.jsxs)("div",{className:"p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("label",{className:"mr-2",children:"State:"}),(0,a.jsxs)("select",{value:t,onChange:e=>{l(e.target.value),(0,i.qh)("state",e.target.value)},className:"border p-1",children:[(0,a.jsx)("option",{value:"",children:"All"}),n.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("label",{className:"mr-2",children:"Search:"}),(0,a.jsx)("input",{type:"text",value:s,onChange:e=>{r(e.target.value),(0,i.qh)("search",e.target.value)},className:"border p-1 flex-1",placeholder:"e.g. NSW, Sydney or Hyde Park"})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:c.map(e=>{let t=d.has(e);return(0,a.jsx)("button",{type:"button",onClick:()=>{o(e),(0,i.qh)("feature",e)},"aria-pressed":t,className:"px-2 py-1 border rounded text-sm ".concat(t?"bg-blue-500 text-white":"bg-white"),children:e.replace(/_/g," ")},e)})})]})}var o=l(2242);let u=(0,s.default)(()=>Promise.all([l.e(929),l.e(799)]).then(l.bind(l,799)),{loadableGenerated:{webpack:()=>[799]},ssr:!1}),h=(0,s.default)(()=>Promise.all([l.e(133),l.e(444),l.e(550),l.e(514),l.e(910)]).then(l.bind(l,8910)),{loadableGenerated:{webpack:()=>[8910]},ssr:!1,loading:()=>(0,a.jsx)("div",{className:"w-full h-96 bg-gray-200 flex items-center justify-center",children:"Loading map..."})});function p(e){let t,{parks:l,defaultState:s="",defaultQuery:n=""}=e,[c,i]=(0,r.useState)(s),[p,f]=(0,r.useState)(n),[x,m]=(0,r.useState)(new Set),[g,b]=(0,r.useState)(null),[j,v]=(0,r.useState)(!1);(0,r.useEffect)(()=>{v(!0)},[]);let N=l.filter(e=>{if(c&&e.state!==c)return!1;if(p){let t=p.toLowerCase();if(![e.state,e.city,e.suburb,e.title].some(e=>null==e?void 0:e.toLowerCase().includes(t)))return!1}for(let l of x){var t;if(!(null==(t=e.features)?void 0:t[l]))return!1}return!0}),w=N.filter(e=>!g||g.contains([e.lat,e.lng])),y=w.length?"".concat(w.length," park").concat(1===w.length?"":"s"," found"):"no parks match the filter";return(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(d,{state:c,setState:i,query:p,setQuery:f,features:x,toggleFeature:e=>{m(t=>{let l=new Set(t);return l.has(e)?l.delete(e):l.add(e),l})}}),(0,a.jsx)("p",{className:"px-4 py-2",children:y}),(0,a.jsx)(h,{parks:N,onBoundsChange:b}),!j&&(t=w.slice(0,20),(0,a.jsx)("div",{className:"mt-4 grid auto-rows-fr gap-4 p-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(e=>(0,a.jsx)(o.A,{park:e},e.slug))})),j&&(0,a.jsx)("div",{className:"mt-4 h-[80vh] w-full p-2",children:(0,a.jsx)(u,{parks:w})})]})}},9538:(e,t,l)=>{"use strict";l.d(t,{JR:()=>s,Kl:()=>c,qh:()=>n,wT:()=>i});let a="G-FPRZ4Z8498",s=e=>{a&&window.gtag("config",a,{page_path:e})},r=(e,t)=>{a&&window.gtag("event",e,t)},n=(e,t)=>{r("filter_usage",{filter_type:e,value:t})},c=e=>{r("map_interaction",{interaction:e})},i=e=>{r("select_park",{slug:e})}}},e=>{e.O(0,[323,355,42,366,358],()=>e(e.s=4910)),_N_E=e.O()}]);