(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[910],{374:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let n=r(8199)._(r(3934));function a(e,t){var r;let a={};"function"==typeof e&&(a.loader=e);let l={...a,...t};return(0,n.default)({...l,modules:null==(r=l.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1175:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{bindSnapshot:function(){return s},createAsyncLocalStorage:function(){return l},createSnapshot:function(){return u}});let r=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class n{disable(){throw r}getStore(){}run(){throw r}exit(){throw r}enterWith(){throw r}static bind(e){return e}}let a="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function l(){return a?new a:new n}function s(e){return a?a.bind(e):n.bind(e)}function u(){return a?a.snapshot():function(e,...t){return e(...t)}}},2242:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(6614),a=r(9538),l=r(3355),s=r.n(l);function u(e){let{park:t}=e,r=Object.entries(t.features||{}).filter(e=>{let[,t]=e;return t}).map(e=>{let[t]=e;return t});return(0,n.jsx)(s(),{href:"/park/".concat(t.slug),onClick:()=>(0,a.wT)(t.slug),className:"flex h-full flex-col overflow-hidden rounded border hover:shadow",children:(0,n.jsxs)("div",{className:"flex flex-1 flex-col p-4",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold",children:t.title}),t.suburb&&(0,n.jsx)("p",{className:"text-sm text-gray-600",children:t.suburb}),t.short_description&&(0,n.jsx)("p",{className:"mt-1 text-sm line-clamp-3",children:t.short_description}),(0,n.jsx)("div",{className:"mt-auto flex flex-wrap gap-2 pt-2",children:r.map(e=>(0,n.jsx)("span",{className:"text-xs bg-green-200 px-2 py-1 rounded",children:e.replace(/_/g," ")},e))})]})})}},3934:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let n=r(6614),a=r(4726),l=r(5285);function s(e){return{default:e&&"default"in e?e.default:e}}r(8072);let u={loader:()=>Promise.resolve(s(()=>null)),loading:null,ssr:!0},o=function(e){let t={...u,...e},r=(0,a.lazy)(()=>t.loader().then(s)),o=t.loading;function i(e){let s=o?(0,n.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,u=!t.ssr||!!t.loading,i=u?a.Suspense:a.Fragment,c=t.ssr?(0,n.jsxs)(n.Fragment,{children:[null,(0,n.jsx)(r,{...e})]}):(0,n.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,{...e})});return(0,n.jsx)(i,{...u?{fallback:s}:{},children:c})}return i.displayName="LoadableComponent",i}},4217:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return n}});let n=(0,r(1175).createAsyncLocalStorage)()},4910:(e,t,r)=>{Promise.resolve().then(r.bind(r,7319))},4999:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return n.workAsyncStorageInstance}});let n=r(4217)},5285:(e,t,r)=>{"use strict";function n(e){let{reason:t,children:r}=e;return r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}}),r(2425)},5365:(e,t,r)=>{"use strict";r.d(t,{default:()=>a.a});var n=r(374),a=r.n(n)},7319:(e,t,r)=>{"use strict";r.d(t,{default:()=>g});var n=r(6614),a=r(5365),l=r(4726),s=r(7676);let u=["NSW","VIC","QLD","SA","WA","TAS","NT","ACT"],o=["bbq","playground","shade","parking","dog_off_leash","picnic_tables","free_entry"];var i=r(9538);function c(e){let{state:t,setState:r,query:a,setQuery:l,features:s,toggleFeature:c}=e;return(0,n.jsxs)("div",{className:"p-4 space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("label",{className:"mr-2",children:"State:"}),(0,n.jsxs)("select",{value:t,onChange:e=>{r(e.target.value),(0,i.qh)("state",e.target.value)},className:"border p-1",children:[(0,n.jsx)("option",{value:"",children:"All"}),u.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})]}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("label",{className:"mr-2",children:"Search:"}),(0,n.jsx)("input",{type:"text",value:a,onChange:e=>{l(e.target.value),(0,i.qh)("search",e.target.value)},className:"border p-1 flex-1",placeholder:"e.g. NSW, Sydney or Hyde Park"})]}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:o.map(e=>{let t=s.has(e);return(0,n.jsx)("button",{type:"button",onClick:()=>{c(e),(0,i.qh)("feature",e)},"aria-pressed":t,className:"px-2 py-1 border rounded text-sm ".concat(t?"bg-blue-500 text-white":"bg-white"),children:e.replace(/_/g," ")},e)})})]})}var d=r(2242);let f=(0,a.default)(()=>Promise.all([r.e(929),r.e(799)]).then(r.bind(r,799)),{loadableGenerated:{webpack:()=>[799]},ssr:!1}),p=(0,a.default)(()=>Promise.all([r.e(133),r.e(444),r.e(550),r.e(514),r.e(529)]).then(r.bind(r,8910)),{loadableGenerated:{webpack:()=>[8910]},ssr:!1,loading:()=>(0,n.jsx)("div",{className:"w-full h-96 bg-gray-200 flex items-center justify-center",children:"Loading map..."})});function h(e){let t,{parks:r,defaultState:a="",defaultQuery:u=""}=e,o=(0,s.useRouter)(),i=(0,s.useSearchParams)(),[h,g]=(0,l.useState)(()=>(()=>{let e=i.get("state");return a||e||""})()),[m,b]=(0,l.useState)(()=>(()=>{let e=i.get("query");return u||e||""})()),[x,j]=(0,l.useState)(()=>(()=>{let e=i.get("features");return e&&e?new Set(e.split(",").filter(Boolean)):new Set})()),[y,v]=(0,l.useState)(null),[w,_]=(0,l.useState)(!1);(0,l.useEffect)(()=>{_(!0)},[]),(0,l.useEffect)(()=>{let e=new URLSearchParams;h&&e.set("state",h),m&&e.set("query",m),x.size>0&&e.set("features",Array.from(x).join(","));let t=e.toString(),r=t?"?".concat(t):window.location.pathname;window.location.search!==(t?"?".concat(t):"")&&o.replace(r,{scroll:!1})},[h,m,x,o]);let S=r.filter(e=>{if(h&&e.state!==h)return!1;if(m){let t=m.toLowerCase();if(![e.state,e.city,e.suburb,e.title].some(e=>null==e?void 0:e.toLowerCase().includes(t)))return!1}for(let r of x){var t;if(!(null==(t=e.features)?void 0:t[r]))return!1}return!0}),P=S.filter(e=>!y||y.contains([e.lat,e.lng])),N=P.length?"".concat(P.length," park").concat(1===P.length?"":"s"," found"):"no parks match the filter";return(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)(c,{state:h,setState:g,query:m,setQuery:b,features:x,toggleFeature:e=>{j(t=>{let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})}}),(0,n.jsx)("p",{className:"px-4 py-2",children:N}),(0,n.jsx)(p,{parks:S,onBoundsChange:v}),!w&&(t=P.slice(0,20),(0,n.jsx)("div",{className:"mt-4 grid auto-rows-fr gap-4 p-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(e=>(0,n.jsx)(d.A,{park:e},e.slug))})),w&&(0,n.jsx)("div",{className:"mt-4 h-[80vh] w-full p-2",children:(0,n.jsx)(f,{parks:P})})]})}function g(e){return(0,n.jsx)(l.Suspense,{children:(0,n.jsx)(h,{...e})})}},7676:(e,t,r)=>{"use strict";var n=r(6892);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},8072:(e,t,r)=>{"use strict";function n(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return n}}),r(6614),r(4835),r(4999),r(6302)},9538:(e,t,r)=>{"use strict";r.d(t,{JR:()=>a,Kl:()=>u,Zu:()=>n,qh:()=>s,wT:()=>o});let n="G-FPRZ4Z8498",a=e=>{n&&(window.gtag("config",n,{page_path:e,send_page_view:!1,update:!0}),window.gtag("event","page_view"))},l=(e,t)=>{n&&window.gtag("event",e,t)},s=(e,t)=>{l("filter_usage",{filter_type:e,value:t})},u=e=>{l("map_interaction",{interaction:e})},o=e=>{l("select_park",{slug:e})}}}]);